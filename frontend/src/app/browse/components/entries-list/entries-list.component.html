<ul *ngIf="notes.length > 0">
  <ng-container *ngFor="let note of notes; trackBy: notesTrackingFn">
    <li
    #entryElement
    *ngIf="note.childNotes | async"
    class="entry"
    [itemId]="note._id"
    appExpandable
    (onFirstExpand)="handleNoteExpansion(note)"
    [canExpand]="(note.childNotes | async)?.length > 0"
    >

      <app-draggable-note-entry
      [ngClass]="{
        'action-button note-title minor': true,
        'category': note.isCategory
      }"
      [appDropZone]="note._id"
      [note]="note"
      [browserReference]="browserReference"
      ></app-draggable-note-entry>

      <!-- icon for expandable note placeholder -->

      <app-entries-list
      *ngIf="(note.childNotes | async)?.length > 0 && entryElement.classList.contains('expanded')"
      class="subentries"
      [notes]="(note.childNotes | async)"
      [browserReference]="browserReference"
      ></app-entries-list>

    </li>
  </ng-container>
</ul>
